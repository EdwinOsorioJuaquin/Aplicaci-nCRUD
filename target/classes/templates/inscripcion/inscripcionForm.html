<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org">
<head th:replace="disenoBase::site-head"></head>
<body>
  <header th:replace="disenoBase::site-header"></header>
  <main class="container p-0" role="main">
    <div class="container bg-light p-5 rounded mx-auto" id="divCasoForm">
      <h4 class="text-primary">Datos de Inscripción</h4>
      <hr>
      <form class="row g-3" th:object="${inscripcion}" th:action="@{(${inscripcion.id != null} ? '/inscripcion/editar' : '/inscripcion/nuevo')}" method="post">

        <!-- Campo Fecha de Inscripción -->
        <div class="col-md-6 mb-3">
          <label for="inputFecha" class="form-label">Fecha de Inscripción</label>
          <input type="date" id="inputFecha" placeholder="Ingrese fecha"
                 th:classappend="${#fields.hasErrors('fecha_inscripcion')} ? 'form-control is-invalid' : 'form-control'"
                 th:field="*{fecha_inscripcion}" />
          <div class="valid-feedback">Correcto</div>
          <div class="invalid-feedback">
            <small th:errors="*{fecha_inscripcion}">error</small>
          </div>
        </div>

        <!-- Campo Estado -->
        <div class="col-md-6 mb-3">
          <label for="inputEstado" class="form-label">Estado</label>
          <input type="text" id="inputEstado" placeholder="Ingrese estado"
                 th:classappend="${#fields.hasErrors('estado')} ? 'form-control is-invalid' : 'form-control'"
                 th:field="*{estado}" />
          <div class="valid-feedback">Correcto</div>
          <div class="invalid-feedback">
            <small th:errors="*{estado}">error</small>
          </div>
        </div>

        <!-- Campo Curso -->
        <div class="col-md-6 mb-3">
          <label for="selectCurso" class="form-label">Curso</label>
          <select id="selectCurso" name="curso.id"
                  th:classappend="${#fields.hasErrors('curso.id')} ? 'form-control is-invalid' : 'form-control'"
                  th:field="*{curso.id}">
            <option th:each="curso : ${listaCursos}" th:value="${curso.id}"
                    th:text="${curso.nombre}"
                    th:selected="${curso.id} == ${inscripcion.curso.id}"></option>
          </select>
          <div class="valid-feedback">Correcto</div>
          <div class="invalid-feedback">
            <small th:errors="*{curso.id}">error</small>
          </div>
        </div>

        <!-- Campo Estudiante -->
        <div class="col-md-6 mb-3">
          <label for="selectEstudiante" class="form-label">Estudiante</label>
          <select id="selectEstudiante" name="estudiante.id"
                  th:classappend="${#fields.hasErrors('estudiante.id')} ? 'form-control is-invalid' : 'form-control'"
                  th:field="*{estudiante.id}">
            <option th:each="estudiante : ${listaEstudiantes}" th:value="${estudiante.id}"
                    th:text="${estudiante.nombres} + ' ' + ${estudiante.apellidos}"
                    th:selected="${estudiante.id} == ${inscripcion.estudiante.id}"></option>
          </select>
          <div class="valid-feedback">Correcto</div>
          <div class="invalid-feedback">
            <small th:errors="*{estudiante.id}">error</small>
          </div>
        </div>

        <!-- Botones -->
        <div class="col-12">
          <button class="btn btn-primary" type="submit">Guardar</button>
          <a class="btn btn-secondary" th:href="@{/inscripcion/index}">Cancelar</a>
        </div>

      </form>
    </div>
  </main>
  <footer th:replace="disenoBase::site-footer"></footer>
  <div th:replace="disenoBase::site-bootstrap"></div>
</body>
</html>
